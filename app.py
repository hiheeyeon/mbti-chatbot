
import streamlit as st

# -------------------------------
# 1. MBTIë³„ êµ­ë‚´ ì—¬í–‰ì§€ + ë§›ì§‘ ë°ì´í„°
# -------------------------------
mbti_destinations = {
    "ISTJ": {
        "country": "ëŒ€í•œë¯¼êµ­",
        "city": "ê²½ì£¼",
        "img_url": "https://media.istockphoto.com/id/181867229/ko/%EC%82%AC%EC%A7%84/anapji-%EC%97%B0%EB%AA%BB-%EA%B2%BD%EC%A3%BC-%ED%95%9C%EA%B5%AD.jpg?s=1024x1024&w=is&k=20&c=a65eDVD0aNpGuorxnRzzdMeUlJM1IPcwavDp332g2GM=",
        "style": "ì—­ì‚¬ ìœ ì  ìœ„ì£¼ì˜ ì°¨ë¶„í•œ ì—¬í–‰",
        "reason": "ê²½ì£¼ëŠ” ì°¨ë¶„í•˜ê³  ì²´ê³„ì ì¸ ISTJì—ê²Œ íŠ¹íˆ ì˜ ë§ëŠ” ë„ì‹œì…ë‹ˆë‹¤. ì‹ ë¼ ì‹œëŒ€ì˜ ìœ ì ì§€ì™€ ë°•ë¬¼ê´€, ê³ ë¶„êµ° ë“±ì´ ì¼ì •í•œ ë™ì„ ì— ë”°ë¼ ì •ë¹„ë˜ì–´ ìˆì–´ ê³„íšì ìœ¼ë¡œ ì—¬í–‰í•˜ê¸° ì¢‹ìŠµë‹ˆë‹¤. ì¡°ìš©íˆ ê±¸ìœ¼ë©° ì—­ì‚¬ì  ì‚¬ì‹¤ì„ í•˜ë‚˜ì”© í™•ì¸í•  ìˆ˜ ìˆëŠ” í™˜ê²½ì´ë¼ ì—¬ìœ ë¡­ê²Œ ì‚°ì±…í•˜ë©´ì„œë„ ì˜ë¯¸ ìˆëŠ” ì‹œê°„ì„ ë³´ë‚´ê¸° ì¢‹ìŠµë‹ˆë‹¤. ë¶ë¹„ì§€ ì•ŠëŠ” í•œì í•œ ê³¨ëª©ê³¼ ì „í†µë¬¸í™”ê°€ ì¡°í™”ë¥¼ ì´ë£¨ì–´ ISTJê°€ ì¢‹ì•„í•˜ëŠ” â€˜ì •ëˆëœ ì—¬í–‰â€™ì´ ê°€ëŠ¥í•©ë‹ˆë‹¤.",
        "city_area": "ë¶ˆêµ­ì‚¬, ì›”ì •êµ, ì²¨ì„±ëŒ€, í™©ë¦¬ë‹¨ê¸¸",
        "food_area": "í™©ë¦¬ë‹¨ê¸¸ ì¼ëŒ€ í•œì‹Â·ì¹´í˜ ê±°ë¦¬",
        "food_menu": "ê²½ì£¼ í™©ë‚¨ë¹µ, êµë™ìŒˆë°¥ í™©ë¦¬ë‹¨ê¸¸ì , ì›ì¡°ë–¡ê°ˆë¹„, ì–‘ì§€ë‹¤ë°©(ì¹´í˜)"
    },
    "ISFJ": {
        "country": "ëŒ€í•œë¯¼êµ­",
        "city": "ì „ì£¼ í•œì˜¥ë§ˆì„",
        "img_url": "https://media.istockphoto.com/id/1195507814/ko/%EC%82%AC%EC%A7%84/%EC%A0%84%EC%A3%BC-%ED%95%9C%EC%98%A5%EB%A7%88%EC%9D%84-%EC%A0%84%ED%86%B5%ED%95%9C%EB%8F%84%EC%8B%9C-%EC%A1%B0%EB%A7%9D-%EC%A0%84%EC%A3%BC-%EC%A0%84%EB%B6%81-%ED%95%9C%EA%B5%AD-%EC%95%84%EC%8B%9C%EC%95%84.jpg?s=1024x1024&w=is&k=20&c=iNeYlrgCPM8DIU2jxyDFgFx26InvPE0BzXx9wD0YTcg=",
        "style": "ì „í†µê³¼ ê°ì„±ì„ ì¦ê¸°ëŠ” ì—¬í–‰",
        "reason": "ISFJëŠ” ë”°ëœ»í•˜ê³  ì •ì ì¸ ë¶„ìœ„ê¸°ë¥¼ ì„ í˜¸í•˜ëŠ”ë°, ì „ì£¼ í•œì˜¥ë§ˆì„ì€ ê·¸ëŸ° ê°ì„±ì„ ì¶©ë¶„íˆ ì¶©ì¡±ì‹œì¼œ ì¤ë‹ˆë‹¤. í•œì˜¥ì˜ ê³ ì¦ˆë„‰í•¨ê³¼ ì „í†µìŒì‹ ë¬¸í™”ê°€ ì¡°í™”ë¥¼ ì´ë£¨ê³  ìˆì–´ â€˜ëŒì•„ë³´ëŠ” ì¦ê±°ì›€â€™ì´ í° ì—¬í–‰ì§€ì…ë‹ˆë‹¤. ë¶ë¹„ëŠ” ê³³ë³´ë‹¤ ì•ˆì •ì ì´ê³  í¸ì•ˆí•œ ë™ì„ ì„ ì¢‹ì•„í•˜ëŠ” ISFJì—ê²Œ ì „ì£¼ëŠ” ê³¼í•˜ì§€ ì•Šê³  ë¶€ë‹´ìŠ¤ëŸ½ì§€ ì•Šì€ íë§ ì—¬í–‰ì§€ë¡œ ì í•©í•©ë‹ˆë‹¤. ê³¨ëª©ê³¨ëª©ì˜ ê°ì„±ì ì¸ ì¹´í˜ë‚˜ ì°»ì§‘ë„ í° ë§Œì¡±ê°ì„ ì¤ë‹ˆë‹¤.",
        "city_area": "ì „ì£¼ í•œì˜¥ë§ˆì„, ì „ë™ì„±ë‹¹, ì „ì£¼í–¥êµ",
        "food_area": "ì „ì£¼ í•œì˜¥ë§ˆì„Â·ë‚¨ë¶€ì‹œì¥ ê·¼ì²˜",
        "food_menu": "í˜¸ë‚¨ê°(ì „ì£¼ë¹„ë¹”ë°¥), í˜„ëŒ€ì˜¥(ì½©ë‚˜ë¬¼êµ­ë°¥), ìë§¤ê°ˆë¹„(ê°ˆë¹„ì „ê³¨)"
    },
    "INFJ": {
        "country": "ëŒ€í•œë¯¼êµ­",
        "city": "ë‹´ì–‘",
        "img_url": "https://images.unsplash.com/photo-1747747585743-75b9d1f3730d?q=80&w=687&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D",
        "style": "ê°ì„±ì ì¸ ìì—° ì† íë§",
        "reason": "ë‹´ì–‘ì˜ ì¡°ìš©í•œ ìì—°í™˜ê²½ì€ ê¹Šì€ ì‚¬ìƒ‰ì„ ì¦ê¸°ëŠ” INFJì—ê²Œ ì˜ ë§ìŠµë‹ˆë‹¤. ì£½ë…¹ì›ê³¼ ë©”íƒ€ì„¸ì¿¼ì´ì•„ ê¸¸ì€ ê±·ëŠ” ë™ì•ˆ ê°ì •ê³¼ ìƒê°ì„ ì •ë¦¬í•  ìˆ˜ ìˆëŠ” ê³µê°„ìœ¼ë¡œ, INFJì˜ ë‚´ì  ì„¸ê³„ì™€ ì˜ ì–´ìš¸ë¦½ë‹ˆë‹¤. ìì—° ì†ì—ì„œ í˜¼ìë§Œì˜ ì‹œê°„ì„ ë³´ë‚´ê±°ë‚˜ ê°€ê¹Œìš´ ì‚¬ëŒê³¼ í¸ì•ˆí•œ ëŒ€í™”ë¥¼ ë‚˜ëˆ„ê¸°ì— ì´ìƒì ì¸ ì¥ì†Œì…ë‹ˆë‹¤. ì¸íŒŒê°€ ì ê³  ë¶„ìœ„ê¸°ê°€ í‰ì˜¨í•´ ì§„ì •í•œ íë§ì„ ëŠë‚„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.",
        "city_area": "ì£½ë…¹ì›, ì†Œì‡„ì›, ë‹´ì–‘ê´€ë°©ì œë¦¼, ë©”íƒ€í”„ë¡œë°©ìŠ¤",
        "food_area": "ë‹´ì–‘ ê´€ë°©ì œë¦¼Â·ì£½ë…¹ì› ì¸ê·¼",
        "food_menu": "í•œìƒê·¼ëŒ€í†µë°¥ì§‘, ë‹´ì–‘ê°ˆë¹„ì°½ê³ (ë–¡ê°ˆë¹„), ë‹´ì–‘ë§‰ë‘¥ì´êµ­ìˆ˜(ì£½ìˆœë¹„ë¹”êµ­ìˆ˜)"
    },
    "INTJ": {
        "country": "ëŒ€í•œë¯¼êµ­",
        "city": "ì œì£¼ ìš°ë„",
        "img_url": "https://images.unsplash.com/photo-1584263836578-a47bff1bdd5c?q=80&w=1176&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D",
        "style": "ê³„íší˜• ì„¬ ì¼ì£¼ ì—¬í–‰",
        "reason": "INTJëŠ” íš¨ìœ¨ì ì¸ ì¼ì • êµ¬ì„±ê³¼ í˜¼ì¡í•˜ì§€ ì•Šì€ í™˜ê²½ì„ ì„ í˜¸í•˜ëŠ”ë°, ìš°ë„ëŠ” ì‘ì€ ì„¬ íŠ¹ìœ ì˜ ëª…í™•í•œ ë™ì„  ë•ë¶„ì— â€˜ê³„íšì ì¸ íƒë°©â€™ì´ ê°€ëŠ¥í•´ ë§¤ìš° ì í•©í•©ë‹ˆë‹¤. ì¡°ìš©í•œ í•´ì•ˆê¸¸ê³¼ ê¹”ë”í•œ ì¹´í˜ë“¤ì´ ìˆì–´ ë³µì¡í•¨ ì—†ì´ ì§‘ì¤‘í•  ìˆ˜ ìˆìœ¼ë©°, ì—¬í–‰ ì¤‘ì—ë„ ìŠ¤ìŠ¤ë¡œë§Œì˜ ì‚¬ê³ ì‹œê°„ì„ í™•ë³´í•˜ê¸° ì¢‹ìŠµë‹ˆë‹¤. í™•ì‹ ì„ ê°€ì§€ê³  ì—¬í–‰ì„ í†µì œí•˜ê³  ì‹¶ì–´ í•˜ëŠ” INTJì—ê²Œ ì•ˆì •ì ì´ë©´ì„œë„ ë§¤ë ¥ì ì¸ ì½”ìŠ¤ì…ë‹ˆë‹¤.",
        "city_area": "ìš°ë„ë´‰, ê²€ë©€ë ˆí•´ë³€, í•˜ê³ ìˆ˜ë™í•´ë³€, í›ˆë°ë¥´íŠ¸ë°”ì„œíŒŒí¬",
        "food_area": "ìš°ë„ í•´ì•ˆë„ë¡œ ì¹´í˜Â·ì‹ë‹¹",
        "food_menu": "í”¼ë„›ìº¬ë¼ë©œí•˜ìš°ìŠ¤(ë•…ì½©ë¹™ìˆ˜), ìš°ë„í•´ë…€ì‹ë‹¹(í•´ë¬¼ìš”ë¦¬), ì„¬ì†Œë‚˜ì´(ì „ë³µì§¬ë½•)"
    },
    "ISTP": {
        "country": "ëŒ€í•œë¯¼êµ­",
        "city": "ê°•ì›ë„ ì†ì´ˆÂ·ì„¤ì•…ì‚°",
        "img_url": "https://images.unsplash.com/photo-1660782557510-4075e4089c26?q=80&w=1457&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D",
        "style": "ì•¡í‹°ë¹„í‹° + ë“œë¼ì´ë¸Œ",
        "reason": "ISTPëŠ” ì¦‰í¥ì ì¸ í™œë™ê³¼ ìì—° ì•¡í‹°ë¹„í‹°ë¥¼ ì¢‹ì•„í•©ë‹ˆë‹¤. ì†ì´ˆì™€ ì„¤ì•…ì‚°ì€ ë“±ì‚°, ë“œë¼ì´ë¸Œ, ë°”ë‹¤ ê°ìƒ ë“± ë‹¤ì–‘í•œ í™œë™ì„ ì„ íƒí•  ìˆ˜ ìˆëŠ” ììœ ë„ê°€ ë†’ìŠµë‹ˆë‹¤. ê³„íš ì—†ì´ ë– ë‚˜ë„ ì¶©ë¶„íˆ ì¦ê¸¸ ê±°ë¦¬ê°€ ë§ì•„ ISTPì˜ â€˜í˜„ì¥ì—ì„œ ì¦ê¸°ëŠ” ìŠ¤íƒ€ì¼â€™ê³¼ ì˜ ì–´ìš¸ë¦½ë‹ˆë‹¤. ë„ì‹œì™€ ìì—°ì´ ëª¨ë‘ ê°€ê¹Œì›Œ ì›í•˜ëŠ” ëŒ€ë¡œ ì›€ì§ì´ê¸° ì¢‹ê³ , í˜¼ìì„œë„ ë¶€ë‹´ ì—†ì´ ëŒì•„ë‹¤ë‹ ìˆ˜ ìˆìŠµë‹ˆë‹¤.",
        "city_area": "ì†ì´ˆì•„ì´ëŒ€ê´€ëŒì°¨, ì„¤ì•… ì¼€ì´ë¸”ì¹´, ì†ì´ˆ ì¤‘ì•™ì‹œì¥",
        "food_area": "ì†ì´ˆ ì¤‘ì•™ì‹œì¥Â·ëŒ€í¬í•­ ì¼ëŒ€",
        "food_menu": "í™©ë¶€ìíŠ€ê¹€(ì•„ë°”ì´ìˆœëŒ€, ì˜¤ì§•ì–´ìˆœëŒ€, íŠ€ê¹€), ì†ì´ˆí•­ì•„ë¦¬ë¬¼íšŒ"
    },
    "ISFP": {
        "country": "ëŒ€í•œë¯¼êµ­",
        "city": "ì—¬ìˆ˜",
        "img_url": "https://images.unsplash.com/photo-1651375562199-65caae096ace?q=80&w=735&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D",
        "style": "ì•¼ê²½ê³¼ ë°”ë‹¤ ê°ì„± ì—¬í–‰",
        "reason": "ê°ì„±ì ì¸ í’ê²½ì„ ì‚¬ë‘í•˜ëŠ” ISFPëŠ” ì—¬ìˆ˜ì˜ ë°”ë‹¤ì™€ ì•¼ê²½, ê°ì„± ì¹´í˜ ë¶„ìœ„ê¸°ì—ì„œ í° ë§Œì¡±ì„ ëŠë‚„ ê°€ëŠ¥ì„±ì´ ë†’ìŠµë‹ˆë‹¤. ì‚¬ì§„ ì°ê¸° ì¢‹ì€ ìŠ¤íŒŸì´ ë§ê³  ì¡°ìš©í•œ ì‚°ì±… ì½”ìŠ¤ë„ ìˆì–´ì„œ ìì—°ìŠ¤ëŸ½ê²Œ íœ´ì‹í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ê°•í•œ ìê·¹ë³´ë‹¤ëŠ” ë¶€ë“œëŸ¬ìš´ ë¶„ìœ„ê¸°ë¥¼ ì„ í˜¸í•˜ëŠ” ISFPì—ê²Œ ì—¬ìˆ˜ëŠ” ê°ì„±ì„ ì±„ìš°ëŠ” ì™„ë²½í•œ íë§ ì—¬í–‰ì§€ì…ë‹ˆë‹¤.",
        "city_area": "ì—¬ìˆ˜í•´ìƒì¼€ì´ë¸”ì¹´, ì—¬ìˆ˜ ìœ ì›”ë“œ ë£¨ì§€ í…Œë§ˆíŒŒí¬, ì—¬ìˆ˜ë¯¸ë‚¨í¬ë£¨ì¦ˆ",
        "food_area": "ì—¬ìˆ˜ ì—‘ìŠ¤í¬ì—­Â·ëŒì‚°ëŒ€êµ ì¸ê·¼",
        "food_menu": "ê½ƒëŒê²Œì¥1ë²ˆê°€(ê°„ì¥ê²Œì¥), ì‚¼í•™ì§‘(ì„œëŒ€íšŒë¬´ì¹¨), ìˆœì´ë„¤ë°¥ìƒ(ê°ˆì¹˜ì¡°ë¦¼), ì‚¼í•©ë‹¹ ë³¸ì (ë”¸ê¸°ëª¨ì°Œ)"
    },
    "INFP": {
        "country": "ëŒ€í•œë¯¼êµ­",
        "city": "í†µì˜",
        "img_url": "https://images.unsplash.com/photo-1761654887830-1a45f7a35ede?q=80&w=1170&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D",
        "style": "ì¡°ìš©í•œ í•­êµ¬Â·ì„¬ íë§",
        "reason": "INFPëŠ” ì¡°ìš©í•œ ë¶„ìœ„ê¸°ì™€ ê°ì„±ì ì¸ í’ê²½ì„ ì„ í˜¸í•©ë‹ˆë‹¤. í†µì˜ì€ ë¶ë¹„ì§€ ì•ŠëŠ” í•­êµ¬ ë„ì‹œ íŠ¹ìœ ì˜ ê³ ì¦ˆë„‰í•¨ê³¼ ì‘ì€ ì„¬ë“¤ì´ ì£¼ëŠ” í‰ì˜¨í•¨ì´ íŠ¹ì§•ìœ¼ë¡œ, INFPê°€ ì¢‹ì•„í•˜ëŠ” â€˜ë‚˜ë§Œì˜ ì„¸ê³„ì— ì ê¸°ëŠ” ì—¬í–‰â€™ì„ í•˜ê¸° ì¢‹ìŠµë‹ˆë‹¤. ì˜ˆìœ ê³¨ëª©, ë°”ëŒ ë¶€ëŠ” ì–¸ë•, ì†Œë°•í•œ ì¹´í˜ ë“± ê°ì„± í¬ì¸íŠ¸ê°€ ë§ì•„ ë§ˆìŒì˜ ì—¬ìœ ë¥¼ ì°¾ëŠ” ë° ì´ìƒì ì…ë‹ˆë‹¤.",
        "city_area": "í†µì˜ì¼€ì´ë¸”ì¹´, ë™í”¼ë‘ ë²½í™”ë§ˆì„, ì´ìˆœì‹  ê³µì›",
        "food_area": "í†µì˜ ì¤‘ì•™ì‹œì¥Â·í•­êµ¬ ì£¼ë³€",
        "food_menu": "ëš±ë³´í• ë§¤ê¹€ë°¥ì§‘(ì¶©ë¬´ê¹ë°¥), ëŒ€í’ê´€(ë¬¼íšŒ), ë™í”¼ë‘ì­ˆê¸€(êµ´ ìš”ë¦¬)"
    },
    "INTP": {
        "country": "ëŒ€í•œë¯¼êµ­",
        "city": "ì¶˜ì²œ",
        "img_url": "https://images.unsplash.com/photo-1708097863565-5b32d56cf96d?q=80&w=1333&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D",
        "style": "í˜¸ìˆ˜ ì£¼ë³€ ëŠê¸‹í•œ ì—¬í–‰",
        "reason": "ì†ŒINTPëŠ” í˜¼ìë§Œì˜ ì‹œê°„ì´ ì¶©ë¶„í•œ ì—¬í–‰ì„ ì„ í˜¸í•˜ëŠ”ë°, ì¶˜ì²œì˜ í˜¸ìˆ˜ í™˜ê²½ì€ ì°¨ë¶„íˆ ìƒê°ì„ ì •ë¦¬í•˜ê¸° ì¢‹ì€ ë„ì‹œì…ë‹ˆë‹¤. ì†Œì–‘ê°•ê³¼ ì˜ì•”í˜¸ë¥¼ ë”°ë¼ ê±·ê±°ë‚˜ í˜¸ìˆ˜ ì „ë§ ì¹´í˜ì—ì„œ ì¡°ìš©íˆ ì‹œê°„ì„ ë³´ë‚´ê¸° ì¢‹ìŠµë‹ˆë‹¤. ê°•í•œ ìê·¹ ì—†ì´ë„ ë§Œì¡±í•  ìˆ˜ ìˆëŠ” ë„ì‹œì—¬ì„œ ê³¼ë„í•œ ì¼ì •ë³´ë‹¤ ì—¬ìœ ë¡œìš´ ì‹œê°„ ë°°ë¶„ì„ ì¢‹ì•„í•˜ëŠ” INTPì—ê²Œ ì˜ ë§ìŠµë‹ˆë‹¤.",
        "city_area": "ë‚¨ì´ì„¬, ë ˆê³ ëœë“œ, ì œì´ë“œê°€ë“ ",
        "food_area": "ëª…ë™ ë‹­ê°ˆë¹„ê³¨ëª© ì¼ëŒ€",
        "food_menu": "ì¶˜ì²œí†µë‚˜ë¬´ì§‘ë‹­ê°ˆë¹„, ë©”ë°”ìš°ëª…ê°€ì¶˜ì²œë§‰êµ­ìˆ˜"
    },
    "ESTP": {
        "country": "ëŒ€í•œë¯¼êµ­",
        "city": "ë¶€ì‚° í•´ìš´ëŒ€Â·ê´‘ì•ˆë¦¬",
        "img_url": "https://plus.unsplash.com/premium_photo-1661963130289-aa70dd516940?q=80&w=1170&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D",
        "style": "ë°”ë‹¤ ì•¡í‹°ë¹„í‹°ì™€ ë°¤ë¬¸í™”",
        "reason": "ì—ë„ˆì§€ê°€ ë„˜ì¹˜ê³  í™œë™ì ì¸ ESTPì—ê²Œ ë¶€ì‚°ì˜ í•´ìš´ëŒ€Â·ê´‘ì•ˆë¦¬ëŠ” ìµœê³ ì˜ ë†€ì´í„°ì…ë‹ˆë‹¤. ë‚®ì—ëŠ” ë°”ë‹¤ ì•¡í‹°ë¹„í‹°, ë°¤ì—ëŠ” í™”ë ¤í•œ ì•¼ê²½ê³¼ ë‹¤ì–‘í•œ ë¨¹ê±°ë¦¬ë¥¼ ì¦ê¸¸ ìˆ˜ ìˆì–´ â€˜ì§€ë£¨í•  í‹ˆ ì—†ëŠ” ì—¬í–‰â€™ì´ ê°€ëŠ¥í•©ë‹ˆë‹¤. ì¦‰í¥ì ìœ¼ë¡œ ì›€ì§ì´ê¸° ì¢‹ì•„í•˜ëŠ” ESTPì˜ ìŠ¤íƒ€ì¼ê³¼ ë¶€ì‚°ì˜ ë¹ ë¥¸ ë¦¬ë“¬ì´ ì–´ìš¸ë ¤ í™œê¸° ë„˜ì¹˜ëŠ” ì—¬í–‰ì„ ê²½í—˜í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.",
        "city_area": "ìš”íŠ¸íˆ¬ì–´, ë¯¼ë½ìˆ˜ë³€ê³µì›, ê´‘ì•ˆë¦¬í•´ìˆ˜ìš•ì¥, í•´ìš´ëŒ€ë¸”ë£¨ë¼ì¸íŒŒí¬",
        "food_area": "í•´ìš´ëŒ€ ì‹œì¥Â·ê´‘ì•ˆë¦¬ í•´ë³€ê°€",
        "food_menu": "í• ë§¤ì§‘(ë¼ì§€êµ­ë°¥), ê´‘ì•ˆë¦¬ ëŒ€êµë°€ë©´, ê°œë¯¸ì§‘(ë‚™ê³±ìƒˆ)"
    },
    "ESFP": {
        "country": "ëŒ€í•œë¯¼êµ­",
        "city": "ì œì£¼ë„",
        "img_url": "https://images.unsplash.com/photo-1612977512598-3b8d6a498bbb?q=80&w=1074&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D",
        "style": "ì‚¬ì§„Â·ì¹´í˜Â·ì•¡í‹°ë¹„í‹° ì¢…í•© ì—¬í–‰",
        "reason": "ì‚¬êµì ì´ê³  ê°ê°ì ì¸ ESFPëŠ” ì œì£¼ë„ì˜ í’ë¶€í•œ ë³¼ê±°ë¦¬ì™€ í•«í”Œì„ ë§¤ìš° ì¦ê¹ë‹ˆë‹¤. ê°ì„± ì¹´í˜, ì•¡í‹°ë¹„í‹°, ìì—° í’ê²½, ì¸ìŠ¤íƒ€ ìŠ¤íŒŸ ë“± ë‹¤ì–‘í•œ ìš”ì†Œê°€ í•œ ê³³ì— ëª¨ì—¬ ìˆì–´ ESFPì—ê²Œ ìµœì ì˜ â€˜ì¬ë¯¸ í­ë°œ ì—¬í–‰â€™ì´ ë©ë‹ˆë‹¤. íŠ¸ë Œë””í•œ ê³µê°„ì„ ì¢‹ì•„í•˜ëŠ” ì„±í–¥ ë•ë¶„ì— ì œì£¼ë„ì˜ ìµœì‹  ëª…ì†Œë¥¼ íƒë°©í•˜ëŠ” ê²ƒë„ í° ì¦ê±°ì›€ì´ ë©ë‹ˆë‹¤.",
        "city_area": "ê°ê·¤ì²´í—˜ë†ì¥, ìƒˆë³„ì˜¤ë¦„, ì œì£¼ë™ë°±ìˆ˜ëª©ì›, ë¹„ë°€ì˜ ìˆ²",
        "food_area": "ì œì£¼ì‹œ ì—°ë™Â·ì• ì›”Â·í•¨ë• ì¹´í˜ê±°ë¦¬",
        "food_menu": "ìˆ™ì„±ë„(í‘ë¼ì§€ êµ¬ì´), ìë§¤êµ­ìˆ˜(ê³ ê¸°êµ­ìˆ˜), í˜•ì œë„ì‹ë‹¹(ê°ˆì¹˜êµ¬ì´)"
    },
    "ENFP": {
        "country": "ëŒ€í•œë¯¼êµ­",
        "city": "ê°•ë¦‰Â·ì–‘ì–‘",
        "img_url": "https://images.unsplash.com/photo-1662360373919-49c32e988fc9?q=80&w=1375&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D",
        "style": "ë°”ë‹¤Â·ì¹´í˜Â·ì„œí•‘ ì—¬í–‰",
        "reason": "ENFPëŠ” í™œë°œí•˜ê³  ê°ì„±ì ì¸ ì—¬í–‰ì„ ì¢‹ì•„í•©ë‹ˆë‹¤. ê°•ë¦‰ê³¼ ì–‘ì–‘ì€ ë°”ë‹¤, ì¹´í˜, ì„œí•‘, ì˜ˆìœ ê±°ë¦¬ ë“± ENFPê°€ ì¢‹ì•„í•  ìš”ì†Œê°€ ê°€ë“í•©ë‹ˆë‹¤. ì‚¬ëŒë“¤ê³¼ ì–´ìš¸ë¦¬ê¸° ì¢‹ì€ í•´ë³€ ë¶„ìœ„ê¸°, ì˜ˆìœ ì¹´í˜ ê±°ë¦¬, ìì—° ì† ììœ ë¡œìš´ ì—ë„ˆì§€ê°€ í•¨ê»˜ ìˆì–´ â€˜ì˜ê°ì´ ìƒ˜ì†ŸëŠ” ì—¬í–‰â€™ì´ ë©ë‹ˆë‹¤. ì¦‰í¥ì ì¸ ê³„íš ë³€ê²½ì—ë„ ìœ ì—°í•˜ê²Œ ëŒ€ì‘í•  ìˆ˜ ìˆëŠ” í™˜ê²½ì´ë¼ ë”ìš± ì˜ ë§ìŠµë‹ˆë‹¤.",
        "city_area": "ê²½í¬í•´ë³€, ì˜¤ì£½í—Œ, íœ´íœ´ì•”, ë‚™ì‚°ì‚¬",
        "food_area": "ê°•ë¦‰ ì•ˆëª©í•´ë³€ ì¹´í˜ê±°ë¦¬Â·í¬ë‚¨ì‹œì¥",
        "food_menu": "ì´ˆë‹¹í›ˆì´ìˆœë‘ë¶€ì§¬ë½•, ë²Œì§‘ (ì¹¼êµ­ìˆ˜), í…Œë¼ë¡œì‚¬(ì»¤í”¼)"
    },
    "ENTP": {
        "country": "ëŒ€í•œë¯¼êµ­",
        "city": "ì„œìš¸ ì„±ìˆ˜",
        "img_url": "https://search.pstatic.net/common/?src=http%3A%2F%2Fblogfiles.naver.net%2FMjAyNDA4MjdfMjM2%2FMDAxNzI0NzE5MDA4MzUz.1g_URQKt4bkJSFUbKJam-r7daIkzpdehh4p_tFiMb08g.fwgrl6yLemylh0xD3HcaeZSzZTSXj3aIz7W5BsmbjqIg.JPEG%2F20240826_131757.jpg&type=sc960_832",
        "style": "ìƒˆë¡œìš´ íŠ¸ë Œë“œ íƒë°©",
        "reason": "ENTPëŠ” ìƒˆë¡œìš´ íŠ¸ë Œë“œì™€ ìê·¹ì ì¸ ì²´í—˜ì„ ì¦ê¸°ë©°, ë³€í™”ë¬´ìŒí•œ í™˜ê²½ì„ ì„ í˜¸í•©ë‹ˆë‹¤. ì„±ìˆ˜ëŠ” íŒì—…, ì‹ ìƒ ì¹´í˜, ì‹¤í—˜ì ì¸ ì „ì‹œ, ë‹¤ì–‘í•œ ë¸Œëœë“œ ë§¤ì¥ë“¤ì´ ëŠì„ì—†ì´ ë°”ë€ŒëŠ” ê³³ì´ë¼ ENTPì—ê²Œ í•­ìƒ ìƒˆë¡œìš´ ì¦ê±°ì›€ì„ ì œê³µí•©ë‹ˆë‹¤. ì°½ì˜ì ì¸ ì˜ê°ì„ ì–»ê¸°ì—ë„ ì¢‹ì€ ë„ì‹œì—¬ì„œ â€˜ì§€ë£¨í•  í‹ˆ ì—†ëŠ” íƒí—˜í˜• ì—¬í–‰â€™ì´ ê°€ëŠ¥í•©ë‹ˆë‹¤.",
        "city_area": "ì„±ìˆ˜ë¬¸í™”ì˜ˆìˆ ë§ˆë‹¹, ë””ë®¤ì§€ì—„, ì‹œì¦ŒíŒì—…",
        "food_area": "ì„±ìˆ˜ ì¹´í˜Â·ë§›ì§‘ ê±°ë¦¬",
        "food_menu": "ì°¨ì¼ë””ì‰¬(ì†Œê¸ˆë¹µXë¶•ì–´ë¹µ), ì†Œë¬¸ë‚œì„±ìˆ˜ê°ìíƒ•"
    },
    "ESTJ": {
        "country": "ëŒ€í•œë¯¼êµ­",
        "city": "ê²½ë³µê¶",
        "img_url": "https://images.unsplash.com/photo-1638964663550-e2123ac8900b?q=80&w=1175&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D",
        "style": "íš¨ìœ¨ì ì¸ ì¼ì • ë„ì‹œ ì—¬í–‰",
        "reason": "ESTJëŠ” ëª…í™•í•œ êµ¬ì¡°ì™€ íš¨ìœ¨ì ì¸ ë™ì„ ì„ ì„ í˜¸í•˜ë©°, ì—¬í–‰ì—ì„œë„ â€˜í•µì‹¬ì„ ë¹ ë¥´ê²Œ íŒŒì•…í•˜ëŠ” ì¼ì •â€™ì„ ì¢‹ì•„í•©ë‹ˆë‹¤. ê²½ë³µê¶ì€ ë„“ê³  ì²´ê³„ì ìœ¼ë¡œ êµ¬ì„±ëœ ì „í†µ ê¶ê¶ë¡œ, ì£¼ìš” ì „ê°ë“¤ì´ ê¹”ë”í•œ ë™ì„ ìœ¼ë¡œ ì´ì–´ì ¸ ìˆì–´ íš¨ìœ¨ì ìœ¼ë¡œ ê´€ëŒí•˜ê¸°ì— ë§¤ìš° ì í•©í•©ë‹ˆë‹¤. ë˜í•œ ì£¼ë³€ì— êµ­ë¦½í˜„ëŒ€ë¯¸ìˆ ê´€Â·ì¸ì‚¬ë™Â·ì¢…ë¡œ ë§›ì§‘ ê±°ë¦¬ ë“±ì´ ë°€ì§‘í•´ ìˆì–´ ì´ë™ ì‹œê°„ì„ ìµœì†Œí™”í•˜ë©´ì„œë„ ë‹¤ì–‘í•œ ê²½í—˜ì„ í•œ ë²ˆì— ì¦ê¸¸ ìˆ˜ ìˆëŠ” ì ì´ ESTJì˜ ê³„íší˜• ì„±í–¥ê³¼ ì˜ ë§ìŠµë‹ˆë‹¤.",
        "city_area": "ê²½ë³µê¶, êµ­ë¦½í˜„ëŒ€ë¯¸ìˆ ê´€, ì¸ì‚¬ë™ê±°ë¦¬",
        "food_area": "ê´‘ì¥ì‹œì¥Â·ë‚¨ëŒ€ë¬¸ì‹œì¥Â·ì¢…ë¡œ ì¼ëŒ€",
        "food_menu": "ê´‘ì¥ì‹œì¥ ë¹ˆëŒ€ë–¡, ì›ì¡°ì •í• ë¨¸ë‹ˆê¸°ë¦„ë–¡ë³¶ì´, ìŠ¤íƒœí”½ìŠ¤(ì¹´í˜)"
    },
    "ESFJ": {
        "country": "ëŒ€í•œë¯¼êµ­",
        "city": "ì¸ì²œÂ·ì†¡ë„",
        "img_url": "https://images.unsplash.com/photo-1653818283100-115421ad43e8?q=80&w=1170&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D",
        "style": "ì¹œêµ¬Â·ì—°ì¸ê³¼ í•¨ê»˜ ë„ì‹œ ì‚°ì±…",
        "reason": "ESFJëŠ” ì‚¬ëŒë“¤ê³¼ í•¨ê»˜í•˜ê¸° ì¢‹ì€ ì•ˆì •ì ì´ê³  ë¶„ìœ„ê¸° ì¢‹ì€ ê³µê°„ì„ ì„ í˜¸í•©ë‹ˆë‹¤. ì†¡ë„ëŠ” ì‡¼í•‘, ì¹´í˜ê±°ë¦¬, ê³µì›, ì•¼ê²½ ë“± ê°™ì´ ë‹¤ë‹ˆê¸° ì¢‹ì€ ì½”ìŠ¤ê°€ ì˜ ëª¨ì—¬ ìˆì–´ ë™í–‰ìë“¤ê³¼ í¸ì•ˆí•˜ê²Œ ì¦ê¸°ê¸° ì¢‹ìŠµë‹ˆë‹¤. ê³¼í•œ ì´ë™ ì—†ì´ë„ ë‹¤ì–‘í•œ í™œë™ì„ í•  ìˆ˜ ìˆì–´ ê´€ê³„ ì¤‘ì‹¬ì ì¸ ESFJì—ê²Œ ì˜ ë§ìŠµë‹ˆë‹¤.",
        "city_area": "ì†¡ë„ë‹¬ë¹›ì¶•ì œê³µì›, ì†¡ë„ ì„¼íŠ¸ëŸ´íŒŒí¬, í…Œì´ë¸”ì—ì´ ì•¤ ë¡œìš°ìº£(ë™ë¬¼ì›)",
        "food_area": "ì†¡ë„ ì„¼íŠ¸ëŸ´íŒŒí¬Â·ì—°ìˆ˜ë™ ì¹´í˜ê±°ë¦¬",
        "food_menu": "ì†¡ë„ ìˆ˜ë¸”ë¼í‚¤ì•„(ê·¸ë¦¬ìŠ¤ ìŒì‹), ì™”ë‹¤ê°”ë‹¤í™©ì†Œê³±ì°½, ì¡°ê°œë“œë¦¼ í”¼ì‰¬(ì¡°ê°œêµ¬ì´)"
    },
    "ENFJ": {
        "country": "ëŒ€í•œë¯¼êµ­",
        "city": "ë‚¨í•´Â·ê±°ì œ",
        "img_url": "https://images.unsplash.com/photo-1663509815848-7b625499c5ab?q=80&w=1170&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D",
        "style": "ì‚¬ëŒê³¼ í’ê²½ì„ í•¨ê»˜ ëŠë¼ëŠ” ì—¬í–‰",
        "reason": "ENFJëŠ” ì‚¬ëŒê³¼ í’ê²½ì„ í•¨ê»˜ ëŠë¼ëŠ” ì—¬í–‰ì„ ì¢‹ì•„í•©ë‹ˆë‹¤. ë‚¨í•´ì™€ ê±°ì œëŠ” ì™„ë§Œí•œ í•´ì•ˆë„ë¡œì™€ ì‹œì›í•œ ì „ë§ì´ ì´ì–´ì ¸ ìˆì–´ ì†Œì¤‘í•œ ì‚¬ëŒê³¼ ëŒ€í™” ë‚˜ëˆ„ê¸° ì¢‹ì€ ì½”ìŠ¤ê°€ ë§ìŠµë‹ˆë‹¤. ê°ì„± ì¹´í˜ì™€ ë°”ë‹¤ í’ê²½ì´ ì¡°í™”ë¥¼ ì´ë£¨ì–´ â€˜ë”°ëœ»í•œ ë¶„ìœ„ê¸° ì† ê³µê° ì—¬í–‰â€™ì„ ì¦ê¸¸ ìˆ˜ ìˆìŠµë‹ˆë‹¤.",
        "city_area": "ê±°ì œí¬ë¡œìˆ˜ìš©ì†Œìœ ì ê³µì›, ê±°ì œì‹ë¬¼ì›, ë°”ëŒì˜ì–¸ë•, ë‚¨í•´ ë…ì¼ë§ˆì„",
        "food_area": "ë‚¨í•´ ë…ì¼ë§ˆì„Â·ìƒì£¼Â·ë¯¸ì¡°í•­ ì¸ê·¼",
        "food_menu": "ê°•ì„±íšŸì§‘, ì‚°ë´‰ìŒˆë°¥(ë©¸ì¹˜ìŒˆë°¥)"
    },
    "ENTJ": {
        "country": "ëŒ€í•œë¯¼êµ­",
        "city": "ì„¸ì¢…ì¢…",
        "img_url": "https://search.pstatic.net/common/?src=http%3A%2F%2Fblogfiles.naver.net%2FMjAyNTA0MjBfNzEg%2FMDAxNzQ1MTA2NDQwNTE4.pVaE_6NAoK8pjT5MBgJXXv8HSWNe81g-NEYsBlRkbNUg.FnBltYFrjP4XAXcsrGjmDjdxJs6s3l1M2C9uVsManL8g.JPEG%2F900%25A3%25DFScreenshot%25A3%25DF20250420%25A3%25DF084649%25A3%25DFGoogle.jpg&type=sc960_832",
        "style": "ê³„íšì Â·ë„ì‹œí˜• ì½”ìŠ¤",
        "reason": "ENTJëŠ” ì²´ê³„ì ì´ê³  ì„¸ë ¨ëœ ë„ì‹œí˜• ì—¬í–‰ì„ ì„ í˜¸í•©ë‹ˆë‹¤. ì„¸ì¢…ì€ ì‹ ë„ì‹œ íŠ¹ìœ ì˜ ê¹”ë”í•œ êµ¬ì„±ê³¼ íš¨ìœ¨ì ì¸ ì´ë™ ë™ì„  ë•ë¶„ì— ëª©ì  ì¤‘ì‹¬ì˜ ì—¬í–‰ì´ ê°€ëŠ¥í•©ë‹ˆë‹¤. ì—…ë¬´Â·ì¹´í˜Â·ë§›ì§‘Â·ì‚°ì±…ë¡œ ë“±ì´ ì •ëˆë˜ì–´ ìˆì–´ ENTJê°€ ì„ í˜¸í•˜ëŠ” â€˜ì „ëµì ì¸ ì¼ì • êµ¬ì„±â€™ì— ìµœì ì´ë©° ë„ì‹œì  ê°ì„±ë„ ë§Œì¡±ì‹œì¼œ ì¤ë‹ˆë‹¤.",
        "city_area": "ë² ì–´íŠ¸ë¦¬íŒŒí¬, êµ­ë¦½ì„¸ì¢…ìˆ˜ëª©ì›, ì„¸ì¢…ì¤‘ì•™ê³µì›",
        "food_area": "ì„¸ì¢… ì •ë¶€ì²­ì‚¬ ì¸ê·¼ ìƒê¶Œ",
        "food_menu": "ì¥ì›ê°‘ì¹¼êµ­ìˆ˜(ë¯¸ë‚˜ë¦¬ ì¹¼êµ­ìˆ˜), ìŠ¤í…Œì´ì¸í„°ë·° ë‚˜ì„±(ë¸ŒëŸ°ì¹˜ ì¹´í˜)"
    }
}

# -------------------------------
# 2. MBTI ê°„ì´ í…ŒìŠ¤íŠ¸ ë¬¸í•­
# -------------------------------
mbti_questions = [
    # E/I
    ("ë‹¤ë¥¸ ì‚¬ëŒë“¤ê³¼ ë§Œë‚  ë•Œ ì–´ë–¤ê°€ìš”?", "ì—ë„ˆì§€ ì¶©ì „! (E)", "ì¡°ê¸ˆ í”¼ê³¤í•´ìš”.. (I)", "EI"),
    ("ëª¨ì„ í›„, ë” í™œê¸°ì°¬ê°€ìš”?", "ê·¸ë ‡ë‹¤ (E)", "ì•„ë‹ˆë‹¤ (I)", "EI"),
    ("ë‚¯ì„  ì‚¬ëŒê³¼ ëŒ€í™”ê°€", "ì¬ë¯¸ìˆë‹¤ (E)", "ë¶€ë‹´ìŠ¤ëŸ½ë‹¤ (I)", "EI"),
    # S/N
    ("ì—¬í–‰ ê³„íšì€?", "ì„¸ë¶€ì ìœ¼ë¡œ ì§¬ (S)", "ëŒ€ì¶© í° ê·¸ë¦¼ë§Œ (N)", "SN"),
    ("ì¹œêµ¬ì˜ ì§€ì‹œ ì„¤ëª…ì„", "ê·¸ëŒ€ë¡œ ë”°ë¼í•¨ (S)", "ì°½ì˜ì ìœ¼ë¡œ ì‘ìš© (N)", "SN"),
    ("ìƒˆë¡œìš´ ê¸°ìˆ  ë°°ìš¸ ë•Œ", "ë§¤ë‰´ì–¼ë¶€í„° ë³¸ë‹¤ (S)", "ë°”ë¡œ ì‹œë„í•´ë´„ (N)", "SN"),
    # T/F
    ("ê³¼ì œ íŒ€ì› í‰ê°€ ë•Œ", "ê²°ê³¼/íš¨ìœ¨ ì¤‘ì‹œ (T)", "ë¶„ìœ„ê¸°/ê´€ê³„ ì¤‘ì‹œ (F)", "TF"),
    ("ì¹œêµ¬ ê³ ë¯¼ ìƒë‹´", "í•´ê²°ì±… ì¡°ì–¸ (T)", "ìœ„ë¡œÂ·ê³µê° (F)", "TF"),
    ("ì—¬í–‰ ì‹¤ì œ ê³„íší•  ë•Œ", "íš¨ìœ¨ì  ë™ì„ ! (T)", "ë™í–‰ì ê°ì • ë°°ë ¤ (F)", "TF"),
    # J/P
    ("ì¤€ë¹„ë¬¼ ì±™ê¸°ê¸°", "ë¯¸ë¦¬ ì² ì €íˆ ì²´í¬ (J)", "ì¦‰í¥ì ìœ¼ë¡œ ì±™ê¹€ (P)", "JP"),
    ("ëª¨ë¥´ëŠ” ê³³ ê°ˆ ë•Œ", "ë™ì„  ë¯¸ë¦¬ íŒŒì•… (J)", "ê°€ë©´ì„œ ê²°ì • (P)", "JP"),
    ("ê¸‰ì‘ìŠ¤ëŸ¬ìš´ ê³„íš ë³€ê²½", "ë‹¹í™©/ë¶ˆí¸í•¨ (J)", "ë³€í™” ì¬ë°ŒìŒ! (P)", "JP"),
]

# -------------------------------
# 3. MBTI ê³„ì‚° í•¨ìˆ˜
# -------------------------------
def calc_mbti(answers):
    scores = {"E":0,"I":0,"S":0,"N":0,"T":0,"F":0,"J":0,"P":0}
    for ans, (_, _, _, axis) in zip(answers, mbti_questions):
        if axis == "EI":
            scores["E" if ans == "A" else "I"] += 1
        elif axis == "SN":
            scores["S" if ans == "A" else "N"] += 1
        elif axis == "TF":
            scores["T" if ans == "A" else "F"] += 1
        elif axis == "JP":
            scores["J" if ans == "A" else "P"] += 1

    mbti = ""
    mbti += "E" if scores["E"] >= scores["I"] else "I"
    mbti += "S" if scores["S"] >= scores["N"] else "N"
    mbti += "T" if scores["T"] >= scores["F"] else "F"
    mbti += "J" if scores["J"] >= scores["P"] else "P"
    return mbti

# -------------------------------
# 4. ì¶”ì²œ ë¬¸ì¥ ìƒì„±
# -------------------------------
def get_travel_recommendation(mbti: str) -> str:
    mbti = mbti.upper().strip()
    if mbti not in mbti_destinations:
        return "ë“±ë¡ë˜ì§€ ì•Šì€ MBTI íƒ€ì…ì…ë‹ˆë‹¤! 16ê°€ì§€ ìœ í˜•(ì˜ˆ: INFP, ESTJ) ì¤‘ í•˜ë‚˜ë¥¼ ì •í™•íˆ ì…ë ¥í•´ ì£¼ì„¸ìš”."

    info = mbti_destinations[mbti]

def get_travel_recommendation(mbti):
    info = mbti_destinations[mbti]
    text = f"""
**[{mbti}] íƒ€ì… ì¶”ì²œ êµ­ë‚´ ì—¬í–‰ ì½”ìŠ¤**

- ì¶”ì²œ ì§€ì—­: {info['country']} {info['city']}
- ì—¬í–‰ ìŠ¤íƒ€ì¼: {info['style']}
- ì¶”ì²œ ì´ìœ : {info['reason']}
- ì¶”ì²œ ê´€ê´‘ì§€: {info['city_area']}
- ì¶”ì²œ ë§›ì§‘ ì¡´: {info['food_area']}
- ëŒ€í‘œ ë©”ë‰´ í‚¤ì›Œë“œ: {info['food_menu']}

â€» ì‹¤ì œ ë°©ë¬¸ ì „ì—ëŠ” ë„¤ì´ë²„/ì¹´ì¹´ì˜¤ë§µì—ì„œ ìµœì‹  í›„ê¸°ì™€ ì˜ì—…ì‹œê°„ì„ ê¼­ í™•ì¸í•˜ì„¸ìš”!
"""
    return text



# -------------------------------
# 5. Streamlit UI (ë‹¨ì¼ í˜ì´ì§€)
# -------------------------------
st.set_page_config(page_title="MBTI êµ­ë‚´ ì—¬í–‰+ë§›ì§‘ ì±—ë´‡", page_icon="ğŸ§³", layout="centered")
st.title("ğŸ§³ MBTI êµ­ë‚´ ì—¬í–‰ + ë§›ì§‘ ì±—ë´‡")

st.write("ê°„ë‹¨í•œ MBTI í…ŒìŠ¤íŠ¸ë¥¼ í•˜ê³ , ê²°ê³¼ì— ë§ëŠ” **êµ­ë‚´ ì—¬í–‰ì§€ì™€ ë§›ì§‘ ì¡´/ë©”ë‰´**ë¥¼ ì¶”ì²œí•´ ì¤ë‹ˆë‹¤.")

# ì„¸ì…˜ ìƒíƒœ ì´ˆê¸°í™”
if "step" not in st.session_state:
    st.session_state.step = "intro"
if "answers" not in st.session_state:
    st.session_state.answers = []
if "current_q" not in st.session_state:
    st.session_state.current_q = 0
if "mbti_result" not in st.session_state:
    st.session_state.mbti_result = None

# intro ë‹¨ê³„
if st.session_state.step == "intro":
    st.subheader("1. MBTI ê°„ì´ í…ŒìŠ¤íŠ¸ ì‹œì‘í•˜ê¸°")
    st.write("ì´ 12ë¬¸í•­, ê° ë¬¸í•­ë§ˆë‹¤ A/B ì¤‘ í•˜ë‚˜ë¥¼ ê³ ë¥´ë©´ ë©ë‹ˆë‹¤.")
    col1, col2 = st.columns(2)
    with col1:
        if st.button("í…ŒìŠ¤íŠ¸ ì‹œì‘"):
            st.session_state.step = "test"
            st.session_state.answers = []
            st.session_state.current_q = 0
            st.rerun()
    with col2:
        mbti_direct = st.text_input("ì´ë¯¸ MBTIë¥¼ ì•Œê³  ìˆë‹¤ë©´ ë°”ë¡œ ì…ë ¥ (ì˜ˆ: ENFP)")
        if st.button("MBTIë¡œ ë°”ë¡œ ì¶”ì²œ ë³´ê¸°") and mbti_direct:
            st.session_state.mbti_result = mbti_direct.upper()
            st.session_state.step = "result"
            st.rerun()

# test ë‹¨ê³„
elif st.session_state.step == "test":
    q_idx = st.session_state.current_q
    if q_idx < len(mbti_questions):
        q, a_text, b_text, axis = mbti_questions[q_idx]
        st.subheader(f"ì§ˆë¬¸ {q_idx+1} / {len(mbti_questions)}")
        st.write(q)

        choice = st.radio(
            "ì„ íƒì§€ë¥¼ ê³¨ë¼ì£¼ì„¸ìš”.",
            options=["A", "B"],
            format_func=lambda x: f"A. {a_text}" if x == "A" else f"B. {b_text}",
            key=f"q_{q_idx}"
        )

        if st.button("ë‹¤ìŒìœ¼ë¡œ"):
            st.session_state.answers.append(choice)
            st.session_state.current_q += 1
            if st.session_state.current_q >= len(mbti_questions):
                # í…ŒìŠ¤íŠ¸ ë, MBTI ê³„ì‚°
                mbti = calc_mbti(st.session_state.answers)
                st.session_state.mbti_result = mbti
                st.session_state.step = "result"
            st.rerun()
    else:
        # ì•ˆì „ì¥ì¹˜
        mbti = calc_mbti(st.session_state.answers)
        st.session_state.mbti_result = mbti
        st.session_state.step = "result"
        st.rerun()

# result ë‹¨ê³„
elif st.session_state.step == "result":
    mbti = st.session_state.mbti_result
    st.subheader("2. ë‚˜ì˜ MBTI ê²°ê³¼")
    st.write(f"ë‹¹ì‹ ì˜ MBTIëŠ” **{mbti}** ë¡œ ê³„ì‚°ë˜ì—ˆì–´ìš”.")

    st.subheader("3. ì¶”ì²œ êµ­ë‚´ ì—¬í–‰ì§€ + ë§›ì§‘")
    info = mbti_destinations[mbti]
    st.image(info['img_url'], caption=f"{info['city']} ì—¬í–‰ ì‚¬ì§„")
    rec = get_travel_recommendation(mbti)
    st.markdown(rec)

    st.markdown("---")
    st.write("ë‹¤ì‹œ í…ŒìŠ¤íŠ¸ë¥¼ í•˜ê±°ë‚˜, ë‹¤ë¥¸ MBTIë¡œë„ ì¶”ì²œì„ ë°›ì•„ë³¼ ìˆ˜ ìˆì–´ìš”.")
    col1, col2 = st.columns(2)
    with col1:
        if st.button("ë‹¤ì‹œ í…ŒìŠ¤íŠ¸í•˜ê¸°"):
            st.session_state.step = "intro"
            st.session_state.answers = []
            st.session_state.current_q = 0
            st.session_state.mbti_result = None
            st.rerun()
    with col2:
        other = st.text_input("ë‹¤ë¥¸ MBTIë¡œ ì¶”ì²œ ë°›ì•„ë³´ê¸° (ì˜ˆ: ISTP)", key="other_mbti")
        if st.button("ë‹¤ë¥¸ MBTI ì¶”ì²œ ë³´ê¸°") and other:
            st.markdown("---")
            st.markdown(get_travel_recommendation(other))

